# API Documentation - Personal Finance Tracker\n\n## Base URL\n```\nDevelopment: http://localhost:3000/api\nProduction: https://your-deployed-app.com/api\n```\n\n## Authentication\n\nMost endpoints require authentication via JWT token in the Authorization header:\n\n```\nAuthorization: Bearer <your-jwt-token>\n```\n\n## Common Response Format\n\n### Success Response\n```json\n{\n  \"success\": true,\n  \"message\": \"Operation successful\",\n  \"data\": {}\n}\n```\n\n### Error Response\n```json\n{\n  \"success\": false,\n  \"message\": \"Error description\",\n  \"errors\": [] // Only for validation errors\n}\n```\n\n## User Endpoints\n\n### Register User\n**POST** `/users/register`\n\n**Request Body:**\n```json\n{\n  \"name\": \"John Doe\",\n  \"email\": \"john@example.com\",\n  \"password\": \"SecurePass123\",\n  \"preferred_currency\": \"USD\" // optional, defaults to USD\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"message\": \"User registered successfully\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"uuid-here\",\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\",\n      \"preferred_currency\": \"USD\"\n    },\n    \"token\": \"jwt-token-here\"\n  }\n}\n```\n\n### Login User\n**POST** `/users/login`\n\n**Request Body:**\n```json\n{\n  \"email\": \"john@example.com\",\n  \"password\": \"SecurePass123\"\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"uuid-here\",\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\",\n      \"preferred_currency\": \"USD\"\n    },\n    \"token\": \"jwt-token-here\"\n  }\n}\n```\n\n### Get User Profile\n**GET** `/users/profile`\n\n**Headers:** `Authorization: Bearer <token>`\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"id\": \"uuid-here\",\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"preferred_currency\": \"USD\",\n    \"created_at\": \"2024-01-01T00:00:00Z\"\n  }\n}\n```\n\n### Update User Profile\n**PUT** `/users/profile`\n\n**Headers:** `Authorization: Bearer <token>`\n\n**Request Body:**\n```json\n{\n  \"name\": \"John Smith\", // optional\n  \"email\": \"johnsmith@example.com\", // optional\n  \"preferred_currency\": \"EUR\" // optional\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"message\": \"Profile updated successfully\",\n  \"data\": {\n    \"id\": \"uuid-here\",\n    \"name\": \"John Smith\",\n    \"email\": \"johnsmith@example.com\",\n    \"preferred_currency\": \"EUR\"\n  }\n}\n```\n\n### Change Password\n**PUT** `/users/change-password`\n\n**Headers:** `Authorization: Bearer <token>`\n\n**Request Body:**\n```json\n{\n  \"currentPassword\": \"OldPassword123\",\n  \"newPassword\": \"NewPassword456\",\n  \"confirmPassword\": \"NewPassword456\"\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"message\": \"Password changed successfully\"\n}\n```\n\n### Delete Account\n**DELETE** `/users/account`\n\n**Headers:** `Authorization: Bearer <token>`\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"message\": \"Account deleted successfully\"\n}\n```\n\n## Validation Rules\n\n### User Registration\n- **name**: 2-50 characters, required\n- **email**: Valid email format, required, unique\n- **password**: Min 6 characters, must contain uppercase, lowercase, and digit\n- **preferred_currency**: 3-character currency code (optional)\n\n### User Profile Update\n- **name**: 2-50 characters (optional)\n- **email**: Valid email format, unique (optional)\n- **preferred_currency**: 3-character currency code (optional)\n\n### Password Change\n- **currentPassword**: Required\n- **newPassword**: Min 6 characters, must contain uppercase, lowercase, and digit\n- **confirmPassword**: Must match newPassword\n\n## Error Codes\n\n| Status Code | Description |\n|-------------|-------------|\n| 400 | Bad Request - Invalid input data |\n| 401 | Unauthorized - Invalid or missing token |\n| 403 | Forbidden - Insufficient permissions |\n| 404 | Not Found - Resource not found |\n| 409 | Conflict - Resource already exists |\n| 429 | Too Many Requests - Rate limit exceeded |\n| 500 | Internal Server Error |\n\n## Rate Limiting\n\n- **General API**: 100 requests per 15 minutes\n- **Auth Endpoints** (login/register): 5 requests per 15 minutes\n\n## Security Features\n\n- JWT tokens expire in 1 hour\n- Passwords are hashed with bcrypt\n- CORS enabled for specified origins\n- Helmet.js for security headers\n- Rate limiting to prevent abuse\n- Input validation and sanitization\n\n## Testing the API\n\n### Using curl:\n\n```bash\n# Register\ncurl -X POST http://localhost:3000/api/users/register \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"password\": \"Password123\"\n  }'\n\n# Login\ncurl -X POST http://localhost:3000/api/users/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"test@example.com\",\n    \"password\": \"Password123\"\n  }'\n\n# Get Profile (replace TOKEN with actual JWT)\ncurl -X GET http://localhost:3000/api/users/profile \\\n  -H \"Authorization: Bearer TOKEN\"\n```\n\n### Health Check\n\n```bash\ncurl http://localhost:3000/health\n```\n\n---\n\n**Note**: This documentation covers Day 1 implementation. Additional endpoints for categories, transactions, budgets, and dashboard will be added in subsequent development phases."